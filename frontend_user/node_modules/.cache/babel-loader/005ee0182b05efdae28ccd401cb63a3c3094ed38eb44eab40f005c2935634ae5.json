{"ast":null,"code":"var _jsxFileName = \"C:\\\\tarbeya_askar\\\\tarbeya_system-main\\\\frontend_user\\\\src\\\\components\\\\StudentForm.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { enrolledStudentsApi, registeredStudentsApi, facultiesApi, researchTopicsApi, configApi } from '../services/api';\nimport './StudentForm.css';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst academicYears = ['الفرقة الأولى', 'الفرقة الثانية', 'الفرقة الثالثة', 'الفرقة الرابعة', 'الفرقة الخامسة', 'الفرقة السادسة'];\nfunction StudentForm({\n  onSuccess,\n  registrationOpen = true\n}) {\n  _s();\n  const [colleges, setColleges] = useState([]);\n  const [researchTopics, setResearchTopics] = useState([]);\n  const [formData, setFormData] = useState({\n    fullName: '',\n    telephone: '',\n    nationalId: '',\n    serialNumber: '',\n    squadNumber: '',\n    college: '',\n    academicYear: '',\n    researchTopic: ''\n  });\n  const [errors, setErrors] = useState({});\n  const [touched, setTouched] = useState({});\n  const [loading, setLoading] = useState(false);\n  const [message, setMessage] = useState({\n    type: '',\n    text: ''\n  });\n\n  // Fetch faculties, research topics, and config on mount\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        // Fetch faculties\n        const facultiesRes = await facultiesApi.getAll();\n        setColleges(facultiesRes.data.map(f => f.faculty_name));\n\n        // Fetch research topics\n        const topicsRes = await researchTopicsApi.getAll();\n        setResearchTopics(topicsRes.data.map(t => t.topic_name));\n      } catch (err) {\n        console.error('Error fetching data:', err);\n      }\n    };\n    fetchData();\n  }, []);\n\n  // Validation rules\n  const arabicRegex = /^[\\u0600-\\u06FF\\s]+$/;\n  const englishNumbersRegex = /^[0-9]+$/;\n  const phoneRegex = /^01[0-9]{9}$/;\n  const nationalIdRegex = /^[0-9]{14}$/;\n\n  // Real-time validation function\n  const validateField = (name, value) => {\n    let error = '';\n    switch (name) {\n      case 'fullName':\n        if (!value.trim()) {\n          error = 'الاسم الرباعي مطلوب';\n        } else if (!arabicRegex.test(value)) {\n          error = 'يجب إدخال الاسم باللغة العربية فقط';\n        } else {\n          const nameParts = value.trim().split(/\\s+/);\n          if (nameParts.length < 4) {\n            error = 'يجب إدخال الاسم الرباعي كاملاً (4 أسماء على الأقل)';\n          }\n        }\n        break;\n      case 'telephone':\n        if (!value) {\n          error = 'رقم الهاتف مطلوب';\n        } else if (!englishNumbersRegex.test(value)) {\n          error = 'يجب إدخال أرقام إنجليزية فقط';\n        } else if (!phoneRegex.test(value)) {\n          error = 'رقم الهاتف يجب أن يبدأ بـ 01 ويتكون من 11 رقم';\n        }\n        break;\n      case 'nationalId':\n        if (!value) {\n          error = 'الرقم القومي مطلوب';\n        } else if (!englishNumbersRegex.test(value)) {\n          error = 'يجب إدخال أرقام إنجليزية فقط';\n        } else if (!nationalIdRegex.test(value)) {\n          error = 'الرقم القومي يجب أن يتكون من 14 رقم';\n        } else if (!value.startsWith('2') && !value.startsWith('3')) {\n          error = 'الرقم القومي يجب أن يبدأ بـ 2 أو 3';\n        }\n        break;\n      case 'serialNumber':\n        if (!value) {\n          error = 'الرقم التسلسلي مطلوب';\n        } else if (!englishNumbersRegex.test(value)) {\n          error = 'يجب إدخال أرقام إنجليزية فقط';\n        }\n        break;\n      case 'squadNumber':\n        if (value && !englishNumbersRegex.test(value)) {\n          error = 'يجب إدخال أرقام إنجليزية فقط';\n        }\n        break;\n      case 'college':\n        if (!value) {\n          error = 'يجب اختيار الكلية';\n        }\n        break;\n      case 'academicYear':\n        if (!value) {\n          error = 'يجب اختيار السنة الدراسية';\n        }\n        break;\n      default:\n        break;\n    }\n    return error;\n  };\n\n  // Handle input change with real-time validation\n  const handleChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n\n    // For Arabic name field, only allow Arabic characters and spaces\n    if (name === 'fullName') {\n      if (value && !arabicRegex.test(value) && value !== '') {\n        return; // Prevent non-Arabic input\n      }\n    }\n\n    // For number fields, only allow English digits\n    if (['telephone', 'nationalId', 'serialNumber', 'squadNumber'].includes(name)) {\n      if (value && !englishNumbersRegex.test(value) && value !== '') {\n        return; // Prevent non-numeric input\n      }\n    }\n    setFormData(prev => ({\n      ...prev,\n      [name]: value\n    }));\n\n    // Validate on change if field was touched\n    if (touched[name]) {\n      const error = validateField(name, value);\n      setErrors(prev => ({\n        ...prev,\n        [name]: error\n      }));\n    }\n  };\n\n  // Handle field blur\n  const handleBlur = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setTouched(prev => ({\n      ...prev,\n      [name]: true\n    }));\n    const error = validateField(name, value);\n    setErrors(prev => ({\n      ...prev,\n      [name]: error\n    }));\n  };\n\n  // Validate entire form\n  const validateForm = () => {\n    const newErrors = {};\n    let isValid = true;\n    Object.keys(formData).forEach(key => {\n      const error = validateField(key, formData[key]);\n      if (error) {\n        newErrors[key] = error;\n        isValid = false;\n      }\n    });\n    setErrors(newErrors);\n    setTouched({\n      fullName: true,\n      telephone: true,\n      nationalId: true,\n      serialNumber: true,\n      squadNumber: true,\n      college: true,\n      academicYear: true\n    });\n    return isValid;\n  };\n\n  // Get field class based on validation state\n  const getFieldClass = fieldName => {\n    if (!touched[fieldName]) return '';\n    return errors[fieldName] ? 'invalid' : 'valid';\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    setMessage({\n      type: '',\n      text: ''\n    });\n    if (!registrationOpen) {\n      setMessage({\n        type: 'error',\n        text: 'التسجيل مغلق حالياً'\n      });\n      return;\n    }\n    if (!validateForm()) {\n      setMessage({\n        type: 'error',\n        text: 'يرجى تصحيح الأخطاء في النموذج'\n      });\n      return;\n    }\n    setLoading(true);\n    try {\n      // First verify student is enrolled\n      let enrolledStudent;\n      try {\n        const enrolledRes = await enrolledStudentsApi.getByNationalId(formData.nationalId);\n        enrolledStudent = enrolledRes.data;\n      } catch (err) {\n        var _err$response;\n        if (((_err$response = err.response) === null || _err$response === void 0 ? void 0 : _err$response.status) === 404) {\n          setMessage({\n            type: 'error',\n            text: 'الرقم القومي غير مسجل في قوائم الطلاب المقيدين'\n          });\n          setLoading(false);\n          return;\n        }\n        throw err;\n      }\n\n      // Check if already registered for research\n      try {\n        await registeredStudentsApi.getByNationalId(formData.nationalId);\n        setMessage({\n          type: 'error',\n          text: 'هذا الطالب مسجل بالفعل في نظام البحث'\n        });\n        setLoading(false);\n        return;\n      } catch (err) {\n        var _err$response2;\n        // 404 means not registered yet - that's what we want\n        if (((_err$response2 = err.response) === null || _err$response2 === void 0 ? void 0 : _err$response2.status) !== 404) {\n          throw err;\n        }\n      }\n\n      // Register the student for research\n      const registrationData = {\n        national_id: parseInt(formData.nationalId),\n        sequence_number: parseInt(formData.serialNumber),\n        student_name: formData.fullName,\n        phone_number: formData.telephone,\n        faculty_name: formData.college,\n        research_name: formData.researchTopic || 'غير محدد',\n        educational_level: formData.academicYear,\n        team_code: formData.squadNumber || 'UNASSIGNED'\n      };\n      await registeredStudentsApi.create(registrationData);\n\n      // Update enrolled student to mark as registered\n      await enrolledStudentsApi.update(enrolledStudent._id, {\n        registered_research: true\n      });\n      setMessage({\n        type: 'success',\n        text: 'تم التسجيل بنجاح! يمكنك الآن تسجيل الدخول.'\n      });\n      setFormData({\n        fullName: '',\n        telephone: '',\n        nationalId: '',\n        serialNumber: '',\n        squadNumber: '',\n        college: '',\n        academicYear: '',\n        researchTopic: ''\n      });\n      setErrors({});\n      setTouched({});\n      setTimeout(() => {\n        if (onSuccess) onSuccess();\n      }, 2000);\n    } catch (error) {\n      var _error$response, _error$response$data;\n      setMessage({\n        type: 'error',\n        text: ((_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.error) || 'حدث خطأ أثناء التسجيل'\n      });\n    } finally {\n      setLoading(false);\n    }\n  };\n  const handleReset = () => {\n    setFormData({\n      fullName: '',\n      telephone: '',\n      nationalId: '',\n      serialNumber: '',\n      squadNumber: '',\n      college: '',\n      academicYear: '',\n      researchTopic: ''\n    });\n    setErrors({});\n    setTouched({});\n    setMessage({\n      type: '',\n      text: ''\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"form-container\",\n    children: [!registrationOpen && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"message error\",\n      children: \"\\u0627\\u0644\\u062A\\u0633\\u062C\\u064A\\u0644 \\u0645\\u063A\\u0644\\u0642 \\u062D\\u0627\\u0644\\u064A\\u0627\\u064B. \\u064A\\u0631\\u062C\\u0649 \\u0627\\u0644\\u0645\\u062D\\u0627\\u0648\\u0644\\u0629 \\u0644\\u0627\\u062D\\u0642\\u0627\\u064B.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 325,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"form-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"\\u0627\\u0633\\u062A\\u0645\\u0627\\u0631\\u0629 \\u062A\\u0633\\u062C\\u064A\\u0644 \\u0627\\u0644\\u0637\\u0644\\u0627\\u0628\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 330,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"\\u064A\\u0631\\u062C\\u0649 \\u0645\\u0644\\u0621 \\u062C\\u0645\\u064A\\u0639 \\u0627\\u0644\\u0628\\u064A\\u0627\\u0646\\u0627\\u062A \\u0627\\u0644\\u0645\\u0637\\u0644\\u0648\\u0628\\u0629\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 331,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 329,\n      columnNumber: 7\n    }, this), message.text && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `message ${message.type}`,\n      children: message.text\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 335,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-section\",\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          children: \"\\u0627\\u0644\\u0627\\u0633\\u0645 \\u0627\\u0644\\u0631\\u0628\\u0627\\u0639\\u064A (\\u0628\\u0627\\u0644\\u0644\\u063A\\u0629 \\u0627\\u0644\\u0639\\u0631\\u0628\\u064A\\u0629)\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 342,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group full-width\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"\\u0627\\u0644\\u0627\\u0633\\u0645 \\u0627\\u0644\\u0631\\u0628\\u0627\\u0639\\u064A *\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 344,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            name: \"fullName\",\n            value: formData.fullName,\n            onChange: handleChange,\n            onBlur: handleBlur,\n            placeholder: \"\\u0623\\u062F\\u062E\\u0644 \\u0627\\u0644\\u0627\\u0633\\u0645 \\u0627\\u0644\\u0631\\u0628\\u0627\\u0639\\u064A \\u0628\\u0627\\u0644\\u0644\\u063A\\u0629 \\u0627\\u0644\\u0639\\u0631\\u0628\\u064A\\u0629\",\n            className: getFieldClass('fullName'),\n            dir: \"rtl\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 345,\n            columnNumber: 13\n          }, this), touched.fullName && errors.fullName && /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"error-text\",\n            children: errors.fullName\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 356,\n            columnNumber: 15\n          }, this), touched.fullName && !errors.fullName && formData.fullName && /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"success-text\",\n            children: \"\\u2713 \\u0635\\u062D\\u064A\\u062D\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 359,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"hint-text\",\n            children: \"\\u0623\\u062F\\u062E\\u0644 \\u0627\\u0644\\u0627\\u0633\\u0645 \\u0627\\u0644\\u0623\\u0648\\u0644 \\u0648\\u0627\\u0633\\u0645 \\u0627\\u0644\\u0623\\u0628 \\u0648\\u0627\\u0633\\u0645 \\u0627\\u0644\\u062C\\u062F \\u0648\\u0627\\u0633\\u0645 \\u0627\\u0644\\u0639\\u0627\\u0626\\u0644\\u0629\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 361,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 343,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 341,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-section\",\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          children: \"\\u0628\\u064A\\u0627\\u0646\\u0627\\u062A \\u0627\\u0644\\u0647\\u0648\\u064A\\u0629 (\\u0628\\u0627\\u0644\\u0623\\u0631\\u0642\\u0627\\u0645 \\u0627\\u0644\\u0625\\u0646\\u062C\\u0644\\u064A\\u0632\\u064A\\u0629)\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 366,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"identity-grid\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"\\u0631\\u0642\\u0645 \\u0627\\u0644\\u0647\\u0627\\u062A\\u0641 *\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 369,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              name: \"telephone\",\n              value: formData.telephone,\n              onChange: handleChange,\n              onBlur: handleBlur,\n              placeholder: \"01XXXXXXXXX\",\n              className: getFieldClass('telephone'),\n              dir: \"ltr\",\n              maxLength: \"11\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 370,\n              columnNumber: 15\n            }, this), touched.telephone && errors.telephone && /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"error-text\",\n              children: errors.telephone\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 382,\n              columnNumber: 17\n            }, this), touched.telephone && !errors.telephone && formData.telephone && /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"success-text\",\n              children: \"\\u2713 \\u0635\\u062D\\u064A\\u062D\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 385,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"hint-text\",\n              children: \"\\u0645\\u062B\\u0627\\u0644: 01012345678\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 387,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 368,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"\\u0627\\u0644\\u0631\\u0642\\u0645 \\u0627\\u0644\\u0642\\u0648\\u0645\\u064A *\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 390,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              name: \"nationalId\",\n              value: formData.nationalId,\n              onChange: handleChange,\n              onBlur: handleBlur,\n              placeholder: \"XXXXXXXXXXXXXX\",\n              className: getFieldClass('nationalId'),\n              dir: \"ltr\",\n              maxLength: \"14\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 391,\n              columnNumber: 15\n            }, this), touched.nationalId && errors.nationalId && /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"error-text\",\n              children: errors.nationalId\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 403,\n              columnNumber: 17\n            }, this), touched.nationalId && !errors.nationalId && formData.nationalId && /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"success-text\",\n              children: \"\\u2713 \\u0635\\u062D\\u064A\\u062D\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 406,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"hint-text\",\n              children: \"14 \\u0631\\u0642\\u0645 \\u0645\\u0646 \\u0627\\u0644\\u0628\\u0637\\u0627\\u0642\\u0629 \\u0627\\u0644\\u0634\\u062E\\u0635\\u064A\\u0629\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 408,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 389,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"\\u0627\\u0644\\u0631\\u0642\\u0645 \\u0627\\u0644\\u062A\\u0633\\u0644\\u0633\\u0644\\u064A *\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 411,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              name: \"serialNumber\",\n              value: formData.serialNumber,\n              onChange: handleChange,\n              onBlur: handleBlur,\n              placeholder: \"\\u0623\\u062F\\u062E\\u0644 \\u0627\\u0644\\u0631\\u0642\\u0645 \\u0627\\u0644\\u062A\\u0633\\u0644\\u0633\\u0644\\u064A\",\n              className: getFieldClass('serialNumber'),\n              dir: \"ltr\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 412,\n              columnNumber: 15\n            }, this), touched.serialNumber && errors.serialNumber && /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"error-text\",\n              children: errors.serialNumber\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 423,\n              columnNumber: 17\n            }, this), touched.serialNumber && !errors.serialNumber && formData.serialNumber && /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"success-text\",\n              children: \"\\u2713 \\u0635\\u062D\\u064A\\u062D\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 426,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 410,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"\\u0631\\u0642\\u0645 \\u0627\\u0644\\u0641\\u0635\\u064A\\u0644\\u0629 (\\u0644\\u0644\\u0630\\u0643\\u0648\\u0631 - \\u0627\\u062E\\u062A\\u064A\\u0627\\u0631\\u064A)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 430,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              name: \"squadNumber\",\n              value: formData.squadNumber,\n              onChange: handleChange,\n              onBlur: handleBlur,\n              placeholder: \"\\u0623\\u062F\\u062E\\u0644 \\u0631\\u0642\\u0645 \\u0627\\u0644\\u0641\\u0635\\u064A\\u0644\\u0629\",\n              className: getFieldClass('squadNumber'),\n              dir: \"ltr\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 431,\n              columnNumber: 15\n            }, this), touched.squadNumber && errors.squadNumber && /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"error-text\",\n              children: errors.squadNumber\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 442,\n              columnNumber: 17\n            }, this), touched.squadNumber && !errors.squadNumber && formData.squadNumber && /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"success-text\",\n              children: \"\\u2713 \\u0635\\u062D\\u064A\\u062D\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 445,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 429,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 367,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 365,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-section\",\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          children: \"\\u0627\\u0644\\u0628\\u064A\\u0627\\u0646\\u0627\\u062A \\u0627\\u0644\\u0623\\u0643\\u0627\\u062F\\u064A\\u0645\\u064A\\u0629\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 452,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"academic-grid\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"\\u0627\\u0644\\u0643\\u0644\\u064A\\u0629 *\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 455,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              name: \"college\",\n              value: formData.college,\n              onChange: handleChange,\n              onBlur: handleBlur,\n              className: getFieldClass('college'),\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"\",\n                children: \"-- \\u0627\\u062E\\u062A\\u0631 \\u0627\\u0644\\u0643\\u0644\\u064A\\u0629 --\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 463,\n                columnNumber: 17\n              }, this), colleges.map((college, index) => /*#__PURE__*/_jsxDEV(\"option\", {\n                value: college,\n                children: college\n              }, index, false, {\n                fileName: _jsxFileName,\n                lineNumber: 465,\n                columnNumber: 19\n              }, this))]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 456,\n              columnNumber: 15\n            }, this), touched.college && errors.college && /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"error-text\",\n              children: errors.college\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 471,\n              columnNumber: 17\n            }, this), touched.college && !errors.college && formData.college && /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"success-text\",\n              children: \"\\u2713 \\u062A\\u0645 \\u0627\\u0644\\u0627\\u062E\\u062A\\u064A\\u0627\\u0631\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 474,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 454,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"\\u0627\\u0644\\u0633\\u0646\\u0629 \\u0627\\u0644\\u062F\\u0631\\u0627\\u0633\\u064A\\u0629 *\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 478,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              name: \"academicYear\",\n              value: formData.academicYear,\n              onChange: handleChange,\n              onBlur: handleBlur,\n              className: getFieldClass('academicYear'),\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"\",\n                children: \"-- \\u0627\\u062E\\u062A\\u0631 \\u0627\\u0644\\u0633\\u0646\\u0629 \\u0627\\u0644\\u062F\\u0631\\u0627\\u0633\\u064A\\u0629 --\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 486,\n                columnNumber: 17\n              }, this), academicYears.map((year, index) => /*#__PURE__*/_jsxDEV(\"option\", {\n                value: year,\n                children: year\n              }, index, false, {\n                fileName: _jsxFileName,\n                lineNumber: 488,\n                columnNumber: 19\n              }, this))]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 479,\n              columnNumber: 15\n            }, this), touched.academicYear && errors.academicYear && /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"error-text\",\n              children: errors.academicYear\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 494,\n              columnNumber: 17\n            }, this), touched.academicYear && !errors.academicYear && formData.academicYear && /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"success-text\",\n              children: \"\\u2713 \\u062A\\u0645 \\u0627\\u0644\\u0627\\u062E\\u062A\\u064A\\u0627\\u0631\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 497,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 477,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 453,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 451,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-actions\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          className: \"submit-btn\",\n          disabled: loading,\n          children: loading ? /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"spinner-small\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 507,\n              columnNumber: 17\n            }, this), \"\\u062C\\u0627\\u0631\\u064A \\u0627\\u0644\\u062A\\u0633\\u062C\\u064A\\u0644...\"]\n          }, void 0, true) : 'تسجيل الطالب'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 504,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          className: \"reset-btn\",\n          onClick: handleReset,\n          disabled: loading,\n          children: \"\\u0645\\u0633\\u062D \\u0627\\u0644\\u0628\\u064A\\u0627\\u0646\\u0627\\u062A\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 514,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 503,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 340,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 323,\n    columnNumber: 5\n  }, this);\n}\n_s(StudentForm, \"XbJXkW00eMJOEtLXOB0V1pPNs9g=\");\n_c = StudentForm;\nexport default StudentForm;\nvar _c;\n$RefreshReg$(_c, \"StudentForm\");","map":{"version":3,"names":["React","useState","useEffect","enrolledStudentsApi","registeredStudentsApi","facultiesApi","researchTopicsApi","configApi","jsxDEV","_jsxDEV","Fragment","_Fragment","academicYears","StudentForm","onSuccess","registrationOpen","_s","colleges","setColleges","researchTopics","setResearchTopics","formData","setFormData","fullName","telephone","nationalId","serialNumber","squadNumber","college","academicYear","researchTopic","errors","setErrors","touched","setTouched","loading","setLoading","message","setMessage","type","text","fetchData","facultiesRes","getAll","data","map","f","faculty_name","topicsRes","t","topic_name","err","console","error","arabicRegex","englishNumbersRegex","phoneRegex","nationalIdRegex","validateField","name","value","trim","test","nameParts","split","length","startsWith","handleChange","e","target","includes","prev","handleBlur","validateForm","newErrors","isValid","Object","keys","forEach","key","getFieldClass","fieldName","handleSubmit","preventDefault","enrolledStudent","enrolledRes","getByNationalId","_err$response","response","status","_err$response2","registrationData","national_id","parseInt","sequence_number","student_name","phone_number","research_name","educational_level","team_code","create","update","_id","registered_research","setTimeout","_error$response","_error$response$data","handleReset","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","onChange","onBlur","placeholder","dir","maxLength","index","year","disabled","onClick","_c","$RefreshReg$"],"sources":["C:/tarbeya_askar/tarbeya_system-main/frontend_user/src/components/StudentForm.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { \n  enrolledStudentsApi, \n  registeredStudentsApi, \n  facultiesApi, \n  researchTopicsApi,\n  configApi \n} from '../services/api';\nimport './StudentForm.css';\n\nconst academicYears = [\n  'الفرقة الأولى',\n  'الفرقة الثانية',\n  'الفرقة الثالثة',\n  'الفرقة الرابعة',\n  'الفرقة الخامسة',\n  'الفرقة السادسة'\n];\n\nfunction StudentForm({ onSuccess, registrationOpen = true }) {\n  const [colleges, setColleges] = useState([]);\n  const [researchTopics, setResearchTopics] = useState([]);\n  const [formData, setFormData] = useState({\n    fullName: '',\n    telephone: '',\n    nationalId: '',\n    serialNumber: '',\n    squadNumber: '',\n    college: '',\n    academicYear: '',\n    researchTopic: ''\n  });\n\n  const [errors, setErrors] = useState({});\n  const [touched, setTouched] = useState({});\n  const [loading, setLoading] = useState(false);\n  const [message, setMessage] = useState({ type: '', text: '' });\n\n  // Fetch faculties, research topics, and config on mount\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        // Fetch faculties\n        const facultiesRes = await facultiesApi.getAll();\n        setColleges(facultiesRes.data.map(f => f.faculty_name));\n\n        // Fetch research topics\n        const topicsRes = await researchTopicsApi.getAll();\n        setResearchTopics(topicsRes.data.map(t => t.topic_name));\n      } catch (err) {\n        console.error('Error fetching data:', err);\n      }\n    };\n    fetchData();\n  }, []);\n\n  // Validation rules\n  const arabicRegex = /^[\\u0600-\\u06FF\\s]+$/;\n  const englishNumbersRegex = /^[0-9]+$/;\n  const phoneRegex = /^01[0-9]{9}$/;\n  const nationalIdRegex = /^[0-9]{14}$/;\n\n  // Real-time validation function\n  const validateField = (name, value) => {\n    let error = '';\n\n    switch (name) {\n      case 'fullName':\n        if (!value.trim()) {\n          error = 'الاسم الرباعي مطلوب';\n        } else if (!arabicRegex.test(value)) {\n          error = 'يجب إدخال الاسم باللغة العربية فقط';\n        } else {\n          const nameParts = value.trim().split(/\\s+/);\n          if (nameParts.length < 4) {\n            error = 'يجب إدخال الاسم الرباعي كاملاً (4 أسماء على الأقل)';\n          }\n        }\n        break;\n\n      case 'telephone':\n        if (!value) {\n          error = 'رقم الهاتف مطلوب';\n        } else if (!englishNumbersRegex.test(value)) {\n          error = 'يجب إدخال أرقام إنجليزية فقط';\n        } else if (!phoneRegex.test(value)) {\n          error = 'رقم الهاتف يجب أن يبدأ بـ 01 ويتكون من 11 رقم';\n        }\n        break;\n\n      case 'nationalId':\n        if (!value) {\n          error = 'الرقم القومي مطلوب';\n        } else if (!englishNumbersRegex.test(value)) {\n          error = 'يجب إدخال أرقام إنجليزية فقط';\n        } else if (!nationalIdRegex.test(value)) {\n          error = 'الرقم القومي يجب أن يتكون من 14 رقم';\n        } else if (!value.startsWith('2') && !value.startsWith('3')) {\n          error = 'الرقم القومي يجب أن يبدأ بـ 2 أو 3';\n        }\n        break;\n\n      case 'serialNumber':\n        if (!value) {\n          error = 'الرقم التسلسلي مطلوب';\n        } else if (!englishNumbersRegex.test(value)) {\n          error = 'يجب إدخال أرقام إنجليزية فقط';\n        }\n        break;\n\n      case 'squadNumber':\n        if (value && !englishNumbersRegex.test(value)) {\n          error = 'يجب إدخال أرقام إنجليزية فقط';\n        }\n        break;\n\n      case 'college':\n        if (!value) {\n          error = 'يجب اختيار الكلية';\n        }\n        break;\n\n      case 'academicYear':\n        if (!value) {\n          error = 'يجب اختيار السنة الدراسية';\n        }\n        break;\n\n      default:\n        break;\n    }\n\n    return error;\n  };\n\n  // Handle input change with real-time validation\n  const handleChange = (e) => {\n    const { name, value } = e.target;\n    \n    // For Arabic name field, only allow Arabic characters and spaces\n    if (name === 'fullName') {\n      if (value && !arabicRegex.test(value) && value !== '') {\n        return; // Prevent non-Arabic input\n      }\n    }\n    \n    // For number fields, only allow English digits\n    if (['telephone', 'nationalId', 'serialNumber', 'squadNumber'].includes(name)) {\n      if (value && !englishNumbersRegex.test(value) && value !== '') {\n        return; // Prevent non-numeric input\n      }\n    }\n\n    setFormData(prev => ({\n      ...prev,\n      [name]: value\n    }));\n\n    // Validate on change if field was touched\n    if (touched[name]) {\n      const error = validateField(name, value);\n      setErrors(prev => ({\n        ...prev,\n        [name]: error\n      }));\n    }\n  };\n\n  // Handle field blur\n  const handleBlur = (e) => {\n    const { name, value } = e.target;\n    setTouched(prev => ({\n      ...prev,\n      [name]: true\n    }));\n    \n    const error = validateField(name, value);\n    setErrors(prev => ({\n      ...prev,\n      [name]: error\n    }));\n  };\n\n  // Validate entire form\n  const validateForm = () => {\n    const newErrors = {};\n    let isValid = true;\n\n    Object.keys(formData).forEach(key => {\n      const error = validateField(key, formData[key]);\n      if (error) {\n        newErrors[key] = error;\n        isValid = false;\n      }\n    });\n\n    setErrors(newErrors);\n    setTouched({\n      fullName: true,\n      telephone: true,\n      nationalId: true,\n      serialNumber: true,\n      squadNumber: true,\n      college: true,\n      academicYear: true\n    });\n\n    return isValid;\n  };\n\n  // Get field class based on validation state\n  const getFieldClass = (fieldName) => {\n    if (!touched[fieldName]) return '';\n    return errors[fieldName] ? 'invalid' : 'valid';\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    setMessage({ type: '', text: '' });\n\n    if (!registrationOpen) {\n      setMessage({ type: 'error', text: 'التسجيل مغلق حالياً' });\n      return;\n    }\n\n    if (!validateForm()) {\n      setMessage({ type: 'error', text: 'يرجى تصحيح الأخطاء في النموذج' });\n      return;\n    }\n\n    setLoading(true);\n\n    try {\n      // First verify student is enrolled\n      let enrolledStudent;\n      try {\n        const enrolledRes = await enrolledStudentsApi.getByNationalId(formData.nationalId);\n        enrolledStudent = enrolledRes.data;\n      } catch (err) {\n        if (err.response?.status === 404) {\n          setMessage({ type: 'error', text: 'الرقم القومي غير مسجل في قوائم الطلاب المقيدين' });\n          setLoading(false);\n          return;\n        }\n        throw err;\n      }\n\n      // Check if already registered for research\n      try {\n        await registeredStudentsApi.getByNationalId(formData.nationalId);\n        setMessage({ type: 'error', text: 'هذا الطالب مسجل بالفعل في نظام البحث' });\n        setLoading(false);\n        return;\n      } catch (err) {\n        // 404 means not registered yet - that's what we want\n        if (err.response?.status !== 404) {\n          throw err;\n        }\n      }\n\n      // Register the student for research\n      const registrationData = {\n        national_id: parseInt(formData.nationalId),\n        sequence_number: parseInt(formData.serialNumber),\n        student_name: formData.fullName,\n        phone_number: formData.telephone,\n        faculty_name: formData.college,\n        research_name: formData.researchTopic || 'غير محدد',\n        educational_level: formData.academicYear,\n        team_code: formData.squadNumber || 'UNASSIGNED'\n      };\n\n      await registeredStudentsApi.create(registrationData);\n\n      // Update enrolled student to mark as registered\n      await enrolledStudentsApi.update(enrolledStudent._id, {\n        registered_research: true\n      });\n\n      setMessage({ type: 'success', text: 'تم التسجيل بنجاح! يمكنك الآن تسجيل الدخول.' });\n      setFormData({\n        fullName: '',\n        telephone: '',\n        nationalId: '',\n        serialNumber: '',\n        squadNumber: '',\n        college: '',\n        academicYear: '',\n        researchTopic: ''\n      });\n      setErrors({});\n      setTouched({});\n      setTimeout(() => {\n        if (onSuccess) onSuccess();\n      }, 2000);\n    } catch (error) {\n      setMessage({ \n        type: 'error', \n        text: error.response?.data?.error || 'حدث خطأ أثناء التسجيل' \n      });\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleReset = () => {\n    setFormData({\n      fullName: '',\n      telephone: '',\n      nationalId: '',\n      serialNumber: '',\n      squadNumber: '',\n      college: '',\n      academicYear: '',\n      researchTopic: ''\n    });\n    setErrors({});\n    setTouched({});\n    setMessage({ type: '', text: '' });\n  };\n\n  return (\n    <div className=\"form-container\">\n      {!registrationOpen && (\n        <div className=\"message error\">\n          التسجيل مغلق حالياً. يرجى المحاولة لاحقاً.\n        </div>\n      )}\n      <div className=\"form-header\">\n        <h3>استمارة تسجيل الطلاب</h3>\n        <p>يرجى ملء جميع البيانات المطلوبة</p>\n      </div>\n\n      {message.text && (\n        <div className={`message ${message.type}`}>\n          {message.text}\n        </div>\n      )}\n\n      <form onSubmit={handleSubmit}>\n        <div className=\"form-section\">\n          <h4>الاسم الرباعي (باللغة العربية)</h4>\n          <div className=\"form-group full-width\">\n            <label>الاسم الرباعي *</label>\n            <input\n              type=\"text\"\n              name=\"fullName\"\n              value={formData.fullName}\n              onChange={handleChange}\n              onBlur={handleBlur}\n              placeholder=\"أدخل الاسم الرباعي باللغة العربية\"\n              className={getFieldClass('fullName')}\n              dir=\"rtl\"\n            />\n            {touched.fullName && errors.fullName && (\n              <span className=\"error-text\">{errors.fullName}</span>\n            )}\n            {touched.fullName && !errors.fullName && formData.fullName && (\n              <span className=\"success-text\">✓ صحيح</span>\n            )}\n            <span className=\"hint-text\">أدخل الاسم الأول واسم الأب واسم الجد واسم العائلة</span>\n          </div>\n        </div>\n\n        <div className=\"form-section\">\n          <h4>بيانات الهوية (بالأرقام الإنجليزية)</h4>\n          <div className=\"identity-grid\">\n            <div className=\"form-group\">\n              <label>رقم الهاتف *</label>\n              <input\n                type=\"text\"\n                name=\"telephone\"\n                value={formData.telephone}\n                onChange={handleChange}\n                onBlur={handleBlur}\n                placeholder=\"01XXXXXXXXX\"\n                className={getFieldClass('telephone')}\n                dir=\"ltr\"\n                maxLength=\"11\"\n              />\n              {touched.telephone && errors.telephone && (\n                <span className=\"error-text\">{errors.telephone}</span>\n              )}\n              {touched.telephone && !errors.telephone && formData.telephone && (\n                <span className=\"success-text\">✓ صحيح</span>\n              )}\n              <span className=\"hint-text\">مثال: 01012345678</span>\n            </div>\n            <div className=\"form-group\">\n              <label>الرقم القومي *</label>\n              <input\n                type=\"text\"\n                name=\"nationalId\"\n                value={formData.nationalId}\n                onChange={handleChange}\n                onBlur={handleBlur}\n                placeholder=\"XXXXXXXXXXXXXX\"\n                className={getFieldClass('nationalId')}\n                dir=\"ltr\"\n                maxLength=\"14\"\n              />\n              {touched.nationalId && errors.nationalId && (\n                <span className=\"error-text\">{errors.nationalId}</span>\n              )}\n              {touched.nationalId && !errors.nationalId && formData.nationalId && (\n                <span className=\"success-text\">✓ صحيح</span>\n              )}\n              <span className=\"hint-text\">14 رقم من البطاقة الشخصية</span>\n            </div>\n            <div className=\"form-group\">\n              <label>الرقم التسلسلي *</label>\n              <input\n                type=\"text\"\n                name=\"serialNumber\"\n                value={formData.serialNumber}\n                onChange={handleChange}\n                onBlur={handleBlur}\n                placeholder=\"أدخل الرقم التسلسلي\"\n                className={getFieldClass('serialNumber')}\n                dir=\"ltr\"\n              />\n              {touched.serialNumber && errors.serialNumber && (\n                <span className=\"error-text\">{errors.serialNumber}</span>\n              )}\n              {touched.serialNumber && !errors.serialNumber && formData.serialNumber && (\n                <span className=\"success-text\">✓ صحيح</span>\n              )}\n            </div>\n            <div className=\"form-group\">\n              <label>رقم الفصيلة (للذكور - اختياري)</label>\n              <input\n                type=\"text\"\n                name=\"squadNumber\"\n                value={formData.squadNumber}\n                onChange={handleChange}\n                onBlur={handleBlur}\n                placeholder=\"أدخل رقم الفصيلة\"\n                className={getFieldClass('squadNumber')}\n                dir=\"ltr\"\n              />\n              {touched.squadNumber && errors.squadNumber && (\n                <span className=\"error-text\">{errors.squadNumber}</span>\n              )}\n              {touched.squadNumber && !errors.squadNumber && formData.squadNumber && (\n                <span className=\"success-text\">✓ صحيح</span>\n              )}\n            </div>\n          </div>\n        </div>\n\n        <div className=\"form-section\">\n          <h4>البيانات الأكاديمية</h4>\n          <div className=\"academic-grid\">\n            <div className=\"form-group\">\n              <label>الكلية *</label>\n              <select\n                name=\"college\"\n                value={formData.college}\n                onChange={handleChange}\n                onBlur={handleBlur}\n                className={getFieldClass('college')}\n              >\n                <option value=\"\">-- اختر الكلية --</option>\n                {colleges.map((college, index) => (\n                  <option key={index} value={college}>\n                    {college}\n                  </option>\n                ))}\n              </select>\n              {touched.college && errors.college && (\n                <span className=\"error-text\">{errors.college}</span>\n              )}\n              {touched.college && !errors.college && formData.college && (\n                <span className=\"success-text\">✓ تم الاختيار</span>\n              )}\n            </div>\n            <div className=\"form-group\">\n              <label>السنة الدراسية *</label>\n              <select\n                name=\"academicYear\"\n                value={formData.academicYear}\n                onChange={handleChange}\n                onBlur={handleBlur}\n                className={getFieldClass('academicYear')}\n              >\n                <option value=\"\">-- اختر السنة الدراسية --</option>\n                {academicYears.map((year, index) => (\n                  <option key={index} value={year}>\n                    {year}\n                  </option>\n                ))}\n              </select>\n              {touched.academicYear && errors.academicYear && (\n                <span className=\"error-text\">{errors.academicYear}</span>\n              )}\n              {touched.academicYear && !errors.academicYear && formData.academicYear && (\n                <span className=\"success-text\">✓ تم الاختيار</span>\n              )}\n            </div>\n          </div>\n        </div>\n\n        <div className=\"form-actions\">\n          <button type=\"submit\" className=\"submit-btn\" disabled={loading}>\n            {loading ? (\n              <>\n                <span className=\"spinner-small\"></span>\n                جاري التسجيل...\n              </>\n            ) : (\n              'تسجيل الطالب'\n            )}\n          </button>\n          <button \n            type=\"button\" \n            className=\"reset-btn\"\n            onClick={handleReset}\n            disabled={loading}\n          >\n            مسح البيانات\n          </button>\n        </div>\n      </form>\n    </div>\n  );\n}\n\nexport default StudentForm;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}